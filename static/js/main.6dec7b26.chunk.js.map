{"version":3,"sources":["components/Loading.js","components/Task.js","components/Column.js","components/Dashboard.js","App.js","db.js","index.js"],"names":["Loading","Container","styled","div","Text","p","Task","task","index","columnIndex","draggableId","id","provided","draggableProps","dragHandleProps","ref","innerRef","name","Title","h3","TaskList","Column","documentTask","droppableId","droppableProps","items","map","taskIndex","placeholder","Dashboard","firestore","useContext","Context","useCollectionDataOnce","collection","idField","tasksDocs","loading","updateDB","fromColumn","toColumn","a","fromDoc","doc","uId","update","toDoc","onDragEnd","result","find","item","source","destination","itemToMove","splice","App","database","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","createContext","ReactDOM","render","StrictMode","Provider","value","document","getElementById"],"mappings":"wPAMeA,EAJC,WACZ,OAAO,2C,wBCCLC,EAAYC,IAAOC,IAAV,iJAQTC,EAAOF,IAAOG,EAAV,qDAoBKC,EAhBF,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,KAAmBC,GAAY,EAAzBC,YAAyB,EAAZD,OAC/B,OACI,cAAC,IAAD,CAAWE,YAAaH,EAAKI,GAAIH,MAAOA,EAAxC,SACK,SAACI,GAAD,OACG,cAACX,EAAD,uCACQW,EAASC,gBACTD,EAASE,iBAFjB,IAGIC,IAAKH,EAASI,SAHlB,SAKI,cAACZ,EAAD,UAAOG,EAAKU,cCpB1BhB,EAAYC,IAAOC,IAAV,kLASTe,EAAQhB,IAAOiB,GAAV,+CAILC,EAAWlB,IAAOC,IAAV,yGA4BCkB,EAtBA,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aACd,OACI,eAAC,EAAD,WACI,cAACJ,EAAD,UAAQI,EAAaL,OACrB,cAAC,IAAD,CAAWM,YAAaD,EAAaX,GAArC,SACK,SAACC,GAAD,OACG,eAACQ,EAAD,yBACIL,IAAKH,EAASI,UACVJ,EAASY,gBAFjB,cAIKF,EAAaG,MAAMC,KAAI,SAACnB,EAAMoB,GAAP,OAAsB,cAAC,EAAD,CAE1CnB,MAAOmB,EACPpB,KAAMA,GAFDA,EAAKI,OAGbC,EAASgB,uBC9B5B3B,EAAYC,IAAOC,IAAV,wGAoDA0B,EA9CG,WACd,IAAMC,EAAYC,qBAAWC,GAC7B,EAA6BC,YACzBH,EAAUI,WAAW,SACrB,CACIC,QAAS,QAHjB,mBAAOC,EAAP,KAAkBC,EAAlB,KAmBMC,EAAQ,uCAAG,WAAOC,EAAYC,GAAnB,iBAAAC,EAAA,6DACPC,EAAUZ,EAAUI,WAAW,SAASS,IAAIJ,EAAWK,KADhD,SAEPF,EAAQG,OAAO,CAAEpB,MAAOc,EAAWd,QAF5B,cAIPqB,EAAQhB,EAAUI,WAAW,SAASS,IAAIH,EAASI,KAJ5C,SAKPE,EAAMD,OAAO,CAAEpB,MAAOe,EAASf,QALxB,2CAAH,wDAQd,OAAIY,EACO,cAAC,EAAD,IAIP,cAAC,IAAD,CACIU,UA1Bc,SAACC,GACnB,IAAMT,EAAaH,EAAUa,MAAK,SAACC,GAAD,OAAUA,EAAKvC,KAAOqC,EAAOG,OAAO5B,eAChEiB,EAAWJ,EAAUa,MAAK,SAACC,GAAD,OAAUA,EAAKvC,KAAOqC,EAAOI,YAAY7B,eAEnE8B,EAAad,EAAWd,MAAMuB,EAAOG,OAAO3C,OAElD+B,EAAWd,MAAM6B,OAAON,EAAOG,OAAO3C,MAAO,GAC7CgC,EAASf,MAAM6B,OAAON,EAAOI,YAAY5C,MAAO,EAAG6C,GAEnDf,EAASC,EAAYC,IAgBrB,SAGI,cAAC,EAAD,UACKJ,EAAUV,KAAI,SAACiB,EAAKnC,GACjB,OAAO,cAAC,EAAD,CAAqBc,aAAcqB,GAAtBA,EAAIhC,YC7C7B4C,MANf,WACE,OACE,cAAC,EAAD,KCFSC,E,MAAWC,EAASC,cAAc,CAC3CC,OAAQ,0CACRC,WAAY,+BACZC,YAAa,sEACbC,UAAW,eACXC,cAAe,2BACfC,kBAAmB,eACnBC,MAAO,8CCJEjC,EAAUkC,wBAAc,MAE/BpC,EAAY0B,EAAS1B,YAE3BqC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACrC,EAAQsC,SAAT,CAAkBC,MAAOzC,EAAzB,SACE,cAAC,EAAD,QAGJ0C,SAASC,eAAe,W","file":"static/js/main.6dec7b26.chunk.js","sourcesContent":["import React from 'react'\n\nconst Loading = () => {\n    return <div>Loading</div>\n}\n\nexport default Loading","import React from 'react'\nimport styled from 'styled-components'\nimport { Draggable } from 'react-beautiful-dnd'\n\nconst Container = styled.div`\n    border: 1px solid black;\n    border-radius: 8px;\n    width: 100%;\n    margin: auto;\n    margin-bottom: 8px;\n`\n\nconst Text = styled.p`\n    text-align: center;\n`\n\nconst Task = ({ task, columnIndex, index }) => {\n    return (\n        <Draggable draggableId={task.id} index={index}>\n            {(provided) => (\n                <Container\n                    {...provided.draggableProps}\n                    {...provided.dragHandleProps}\n                    ref={provided.innerRef}\n                >\n                    <Text>{task.name}</Text>\n                </Container>\n            )}\n        </Draggable>\n    )\n}\n\nexport default Task","import React from 'react'\nimport Task from './Task'\nimport styled from 'styled-components'\nimport { Droppable } from 'react-beautiful-dnd'\n\nconst Container = styled.div`\n    margin: 20px;\n    padding: 12px;\n    border: 1px solid grey;\n    border-radius: 8px;\n    min-width: 300px;\n    background-color: lightgray;\n`\n\nconst Title = styled.h3`\n    padding: 8px;\n`\n\nconst TaskList = styled.div`\n    padding: 6px;\n    background-color: darkgrey;\n    border-radius: 8px;\n`\n\nconst Column = ({ documentTask }) => {\n    return (\n        <Container>\n            <Title>{documentTask.name}</Title>\n            <Droppable droppableId={documentTask.id}>\n                {(provided) => (\n                    <TaskList\n                        ref={provided.innerRef}\n                        {...provided.droppableProps}\n                    >\n                        {documentTask.items.map((task, taskIndex) => (<Task\n                            key={task.id}\n                            index={taskIndex}\n                            task={task} />))}\n                        {provided.placeholder}\n                    </TaskList>\n                )}\n            </Droppable>\n        </Container>\n    )\n}\n\nexport default Column","import React, { useContext } from 'react'\nimport { Context } from '../index'\nimport { useCollectionDataOnce } from 'react-firebase-hooks/firestore'\nimport Loading from './Loading'\nimport Column from './Column'\nimport styled from 'styled-components'\nimport { DragDropContext } from 'react-beautiful-dnd'\n\nconst Container = styled.div`\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n`\n\nconst Dashboard = () => {\n    const firestore = useContext(Context)\n    const [tasksDocs, loading] = useCollectionDataOnce(\n        firestore.collection('tasks'),\n        {\n            idField: 'uId'\n        }\n    )\n\n    const handleDragEnd = (result) => {\n        const fromColumn = tasksDocs.find((item) => item.id === result.source.droppableId);\n        const toColumn = tasksDocs.find((item) => item.id === result.destination.droppableId);\n\n        const itemToMove = fromColumn.items[result.source.index];\n\n        fromColumn.items.splice(result.source.index, 1);\n        toColumn.items.splice(result.destination.index, 0, itemToMove);\n\n        updateDB(fromColumn, toColumn)\n    }\n\n    const updateDB = async (fromColumn, toColumn) => {\n        const fromDoc = firestore.collection('tasks').doc(fromColumn.uId);\n        await fromDoc.update({ items: fromColumn.items })\n\n        const toDoc = firestore.collection('tasks').doc(toColumn.uId);\n        await toDoc.update({ items: toColumn.items })\n    }\n\n    if (loading) {\n        return <Loading />\n    }\n\n    return (\n        <DragDropContext\n            onDragEnd={handleDragEnd}\n        >\n            <Container>\n                {tasksDocs.map((doc, index) => {\n                    return <Column key={doc.id} documentTask={doc} />\n                })}\n            </Container>\n        </DragDropContext>\n    )\n}\n\nexport default Dashboard","import Dashboard from \"./components/Dashboard\";\n\nfunction App() {\n  return (\n    <Dashboard />\n  );\n}\n\nexport default App;\n","import firebase from 'firebase'\n\nexport const database = firebase.initializeApp({\n    apiKey: \"AIzaSyA_QE2lsuBxZ9-4gGLgZbpLId3_VUen8pM\",\n    authDomain: \"trello-5d59e.firebaseapp.com\",\n    databaseURL: \"https://trello-5d59e-default-rtdb.europe-west1.firebasedatabase.app\",\n    projectId: \"trello-5d59e\",\n    storageBucket: \"trello-5d59e.appspot.com\",\n    messagingSenderId: \"949363318324\",\n    appId: \"1:949363318324:web:f7a61ed97796d3a509f461\"\n})","import React, { createContext } from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { database } from './db'\n\nexport const Context = createContext(null)\n\nconst firestore = database.firestore()\n\nReactDOM.render(\n  <React.StrictMode>\n    <Context.Provider value={firestore}>\n      <App />\n    </Context.Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}